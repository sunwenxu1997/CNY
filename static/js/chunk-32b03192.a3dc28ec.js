(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32b03192"],{"0ccc":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".app-content-100vh .my-swipe[data-v-9d8c5bde]{width:100vw;height:100%}.app-content-100vh .background-img[data-v-9d8c5bde]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.app-content-100vh .buttons[data-v-9d8c5bde]{box-sizing:border-box;width:100%;position:absolute;bottom:0;padding:0 0 3% 0}.app-content-100vh .buttons .btn[data-v-9d8c5bde]:active{transform:scale(.95)}.app-content-100vh .buttons img[data-v-9d8c5bde]{width:100%;display:block;margin:0 auto}.app-content-100vh .buttons .col-1[data-v-9d8c5bde],.app-content-100vh .buttons .col-2[data-v-9d8c5bde],.app-content-100vh .buttons .col-3[data-v-9d8c5bde]{margin:0 auto}.app-content-100vh .buttons .col-1[data-v-9d8c5bde],.app-content-100vh .buttons .col-2[data-v-9d8c5bde]{display:flex;width:70%}.app-content-100vh .buttons .col-2[data-v-9d8c5bde]{justify-content:space-between;padding:0 5%;position:relative;z-index:5}.app-content-100vh .buttons .col-2 img[data-v-9d8c5bde]{width:45%}.app-content-100vh .buttons .col-3 img[data-v-9d8c5bde]{margin-top:.3rem}.cover-count[data-v-9d8c5bde]{width:100%;height:100%;position:fixed;top:0;background:rgba(0,0,0,.8);z-index:99;display:flex;justify-content:center;align-items:center;font-weight:700;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.cover-count .cover-content[data-v-9d8c5bde]{width:90%;color:#fffadc;text-align:center;font-size:1.5rem;position:relative;top:-3vh;font-family:MEllanPRC-Xbold;text-shadow:0 0 10px #dc372b!important}.cover-count .cover-content img[data-v-9d8c5bde]{width:100%}.cover-count .cover-title[data-v-9d8c5bde]{width:100%;position:relative}.cover-count .cover-title img[data-v-9d8c5bde]{width:100%;position:absolute;top:-2rem;left:0}.wrapper[data-v-9d8c5bde]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.wrapper .block[data-v-9d8c5bde]{width:78%;position:relative}.wrapper img[data-v-9d8c5bde]{width:100%;display:block}.wrapper .close[data-v-9d8c5bde]{position:absolute;right:-8%;top:-8%;width:20%;z-index:5}.wrapper .content[data-v-9d8c5bde]{position:absolute;width:76%;height:70%;top:20%;left:12%;color:#fffadc;font-family:MEllanPRC-Xbold;font-size:.8rem;-webkit-overflow-scrolling:touch;overflow-y:scroll}.wrapper .content table[data-v-9d8c5bde]{width:100%}.wrapper .content table thead[data-v-9d8c5bde]{font-weight:700}.wrapper .content table td[data-v-9d8c5bde],.wrapper .content table th[data-v-9d8c5bde]{padding:.3rem}",""]),t.exports=e},"3ef2":function(t,e,a){var o=a("68d9");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("62a7ec01",o,!0,{sourceMap:!1,shadowMode:!1})},"5a68":function(t,e,a){"use strict";a("6e83")},"68d9":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".btn[data-v-4f521c76]:active{transform:scale(.95)}.wrapper[data-v-4f521c76]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.wrapper .block[data-v-4f521c76]{width:70%;position:relative;top:-3vh}.wrapper img[data-v-4f521c76]{width:100%;display:block;margin:0 auto}.wrapper .content[data-v-4f521c76]{position:absolute;width:78%;height:42%;bottom:9%;left:11%;display:flex;justify-content:center;align-items:center}.wrapper .content img[data-v-4f521c76]{margin-bottom:1rem;border-radius:.7rem}",""]),t.exports=e},"6e83":function(t,e,a){var o=a("0ccc");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("58981620",o,!0,{sourceMap:!1,shadowMode:!1})},"7abe":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-content-100vh"},[e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:2500,"show-indicators":!1}},t._l(t.backgroundList,(function(t,a){return e("van-swipe-item",{key:a},[e("img",{staticClass:"background-img",attrs:{src:t.url,alt:""}})])})),1),e("div",{staticClass:"buttons"},[e("div",{staticClass:"col-1"},[e("img",{staticClass:"btn",staticStyle:{"margin-bottom":"-0.5rem"},attrs:{src:a("f031"),alt:""},on:{click:t.clickOpenLuck}})]),e("div",{staticClass:"col-2"},[e("img",{staticClass:"btn",attrs:{src:a("310b"),alt:""},on:{click:t.clickMyPrize}}),e("img",{staticClass:"btn",attrs:{src:a("52c4"),alt:""},on:{click:t.clickRule}})]),e("div",{staticClass:"col-3"},[e("div",{staticStyle:{"min-height":"1.5rem"}},[t.lotteryList.length?e("img",{staticClass:"btn",staticStyle:{width:"20%","margin-top":"0.6rem"},attrs:{src:a("5e61"),alt:""},on:{click:t.clickLotteryList}}):t._e()]),e("img",{staticStyle:{width:"60%"},attrs:{src:a("52c4b"),alt:""}}),e("img",{staticStyle:{width:"90%"},attrs:{src:a("3673"),alt:""}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCover,expression:"showCover"}],staticClass:"cover-count"},[e("div",{staticClass:"cover-content"},[e("img",{attrs:{src:a("bfc4"),alt:""}}),e("div",{staticClass:"cover-title"},[e("img",{attrs:{src:a("bfc4c"),alt:""}}),e("span",[t._v("今天还可以开好运"+t._s(t.lotteryCount)+"次")])]),e("div",{staticStyle:{"margin-top":"0.5rem","font-size":"1.2rem"}},[e("span",{staticStyle:{"font-size":"1.5rem !important"}},[t._v(t._s(t.countDown))]),t._v(" 秒后开始获取好运... ")])])]),e("van-overlay",{attrs:{"lock-scroll":!1,"z-index":"5",show:t.showLotteryList},on:{click:function(e){t.showLotteryList=!1}}},[e("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"block"},[e("img",{staticClass:"title",attrs:{src:a("c60e"),alt:""}}),e("img",{staticClass:"close",attrs:{src:a("d99b"),alt:""},on:{click:function(e){t.showLotteryList=!1}}}),e("div",{staticClass:"content"},[e("table",[e("thead",[e("tr",[e("th",[t._v("中奖手机号")]),e("th",[t._v("中奖时间")])])]),e("tbody",t._l(t.lotteryList,(function(a,o){return e("tr",{key:o},[e("td",[t._v(t._s(a.mobile))]),e("td",[t._v(t._s(a.winningTime))])])})),0)]),t.lotteryList.length?t._e():e("p",{staticStyle:{"text-align":"center"}},[t._v("暂时没人中奖~")])])])])]),e("ShareActivity",{ref:"share-activity"})],1)},i=[],s=(a("14d9"),a("c24f")),c=a("cffa"),n=a("2f62"),r=function(){var t=this,e=t._self._c;return e("div",[e("van-overlay",{attrs:{"lock-scroll":!1,"z-index":"5",show:t.showDialog},on:{click:function(e){t.showDialog=!1}}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"block",on:{click:function(t){t.stopPropagation()}}},[e("img",{staticStyle:{width:"80%"},attrs:{src:a("af58"),alt:""}}),e("img",{staticClass:"title",staticStyle:{width:"80%","margin-top":"-20%"},attrs:{src:a("87ee"),alt:""}}),e("img",{staticStyle:{"margin-top":"-5%"},attrs:{src:a("c6cb"),alt:""}}),e("div",{staticClass:"content"},[e("div",[e("img",{staticClass:"btn",attrs:{src:a("9057"),alt:""},on:{click:t.shareToGroup}}),e("img",{staticClass:"btn",attrs:{src:a("fb13"),alt:""},on:{click:t.shareToFriend}}),e("img",{staticClass:"btn",attrs:{src:a("3a85"),alt:""},on:{click:t.followVideo}})])])])])]),e("van-overlay",{attrs:{"z-index":"5",show:t.showCover},on:{click:function(e){t.showCover=!1}}},[e("div",{staticClass:"wrapper"},[e("span",{staticClass:"right-top-hint",staticStyle:{position:"absolute",top:"2vh",right:"3vw","font-size":"1.5rem",color:"white"}},[t._v("请点击右上角分享")])])])],1)},l=[],d=a("18a0"),p=a.n(d),h={data(){return{showDialog:!1,showCover:!1}},computed:{...Object(n["b"])(["memberId","openid"])},methods:{show(){this.showDialog=!0},shareToGroup(){this.showCover=!0,this.postMessage("shareToGroup"),p.a.ready(()=>{console.log("分享到朋友圈"),p.a.updateTimelineShareData({success:function(){console.log("分享成功")}})})},shareToFriend(){this.showCover=!0,this.postMessage("shareToFriend"),p.a.ready(()=>{console.log("分享到好友"),p.a.updateAppMessageShareData({success:function(){console.log("分享成功")}})})},postMessage(t){p.a.miniProgram.postMessage({data:{from:t,shareType:"onMenuShareAppMessage",openid:this.openid,memberId:this.memberId}})},followVideo(){p.a.miniProgram.navigateTo({url:"/pages/web/index?wxVideo=1"})}}},v=h,u=(a("9f17"),a("2877")),b=Object(u["a"])(v,r,l,!1,null,"4f521c76",null),w=b.exports,m={name:"Home",components:{ShareActivity:w},data(){return{backgroundList:[{url:a("e099")},{url:a("c906")},{url:a("537b")},{url:a("537b2")}],lotteryCount:0,lotteryList:[],showLotteryList:!1,showCover:!1,countDown:3,openLuckLoading:!1}},computed:{...Object(n["b"])(["memberId"])},mounted(){this.getLotteryList()},methods:{getLotteryCount(){return new Promise((t,e)=>{Object(s["a"])({memberId:this.memberId}).then(e=>{this.lotteryCount=e.data,t(e.data)}).catch(t=>{e(t)})})},async clickOpenLuck(){this.openLuckLoading||(this.openLuckLoading=!0,this.checkUser()&&(await this.getLotteryCount(),this.openLuckLoading=!1,this.lotteryCount<=0?this.$refs["share-activity"].show():(this.showCover=!0,c["a"].from(".cover-count",{duration:.5,opacity:0,onComplete:()=>{let t=setInterval(()=>{this.countDown--,this.countDown<=0&&(clearInterval(t),this.showCover=!1,this.countDown=3,this.$router.push("/play"))},1e3)}}))))},clickMyPrize(){this.checkUser()&&this.$router.push("/prize")},checkUser(){return!!this.memberId||(this.$toast("请先注册小程序会员"),!1)},clickRule(){this.$router.push("/rule")},getLotteryList(){Object(s["b"])().then(t=>{t.data&&(this.lotteryList=t.data.list)})},clickLotteryList(){Object(s["b"])().then(t=>{t.data&&(this.lotteryList=t.data.list,this.showLotteryList=!0)})}}},g=m,f=(a("5a68"),Object(u["a"])(g,o,i,!1,null,"9d8c5bde",null));e["default"]=f.exports},"9f17":function(t,e,a){"use strict";a("3ef2")}}]);